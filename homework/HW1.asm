. Main function
	JSUB	READ
MAIN	JSUB	WRITE

. Read function
READ	LDX	ZERO
RLOOP	TD	INDEV
	JEQ	RLOOP
	RD	INDEV
	JSUB	CHECK
	STCH	RECORD,	X
	TIX	K100
	COMP	DOLLAR
	JLT	RLOOP
	JGT	RLOOP
	JSUB	MAIN

. Check lower case
CHECK	COMP	K96
	JLT	RETURN
CHANGE	SUB	K32
RETURN	RSUB

. Write function
WRITE	LDX	ZERO
WLOOP	TD	OUTDEV
	JEQ	WLOOP
	LDCH	RECORD,	X
	WD	OUTDEV
	TIX	K100
	COMP	DOLLAR
	JLT	WLOOP
	JGT	WLOOP

. Define variable
INDEV	BYTE	X'F1'
OUTDEV	BYTE	X'F2'
RECORD	RESB	100
DOLLAR	WORD	36
ZERO	WORD	0
K100	WORD	100
K96	WORD	96
K32	WORD	32